function generateFullChartFromJSON(e,a){if(OBJ_USERS=[],0!=e.length){$("#graph-container").show("slow");for(var t=0;t<e.length&&t<4;t++)$.each(a,function(a,o){e[t]==o.id&&(OBJ_USERS[t]=generateSingleUserData(o))}),generateChartData()}else $("#graph-container").hide("slow"),destroyChartCanvas()}function destroyChartCanvas(){$("#results-graph").remove(),$("#graph-container").append('<canvas id="results-graph"><canvas>')}function generateSingleUserData(e){var a=[];return a.id=e.id,a.fullname=e.admin.nom.toUpperCase()+" "+e.admin.prenom,a.age=getAge(e.admin.date_de_naissance),a.bmi=getBmi(e.biometrie.poids,e.biometrie.taille),a.HbA1c=ratioToPercent(e.const_biologique.HbA1c),a.Cholesterol_total=e.const_biologique.Cholesterol_total,a.Cholesterol_HDL=e.const_biologique.Cholesterol_HDL,a.PSS=e.parametres.PSS,a.Consommation_tabagique=e.assuetudes.Consommation_tabagique,a}function generateChartData(){barChartData={labels:TABCOMPARATEDVALUE,datasets:[]};for(var e=0;e<OBJ_USERS.length;e++){var a={label:OBJ_USERS[e].fullname,backgroundColor:hexToRgb(TAB_COLOR[e],.5),borderColor:hexToRgb(TAB_COLOR[e],1),borderWidth:1,data:[OBJ_USERS[e].age,OBJ_USERS[e].bmi,OBJ_USERS[e].HbA1c,OBJ_USERS[e].Cholesterol_total,OBJ_USERS[e].Cholesterol_HDL,OBJ_USERS[e].PSS,OBJ_USERS[e].Consommation_tabagique]};barChartData.datasets.push(a)}generateChart()}function generateChart(){var e=$("#results-graph")[0].getContext("2d");window.myBarChart=new Chart(e,{type:"bar",data:barChartData,options:{responsive:!0,barValueSpacing:20,events:["click"],legend:{position:"top"},title:{display:!0,text:"Risk viewer comparison"}}})}var TABCOMPARATEDVALUE=["Age","BMI","HbA1c (ratio)","Total cholesterol (mg/dl)","HDL cholesterol (mg/dl)","Systolic blood pressure (mmHg)","Smoking consumption (packs/year)"],OBJ_USERS=[],TAB_COLOR=["e62739","FDB45C","b56969","46BFBD"],barChartData="";
