function loadTableData(){$.getJSON("data/MOCK_DATA.JSON",function(e){JSONObj=e;var t=[];$.each(e,function(e,a){var s=a.admin,n=a.biometrie,r=a.const_biologique,l=a.parametres,i=a.assuetudes,o=[s.nom,s.prenom,s.date_de_naissance,"Male"==s.genre?"M":"F",getBmi(n.poids,n.taille),ratioToPercent(r.HbA1c)+"%",r.Cholesterol_total,r.Cholesterol_HDL,l.PSS,i.Consommation_tabagique];t.push(addTr(a.id,o,"","selectValue",[a.id]))}),$("#tbodyData").append(t.join("")),$("#tblData").DataTable()})}function addTr(e,t,a,s,n){var r=[],l=""!=s?"onclick="+s+"("+splitParams(n)+")>":">";return r.push("<tr id='"+e+"' class='"+a+"'"+l),$.each(t,function(e,t){r.push("<td class='text-center'>"+t+"</td>")}),r.push("</tr>"),r}function splitParams(e){var t="";if(void 0!==e){for(var a=0;a<e.length;a++)""!=e[a]&&null!=e[a]&&(t+="'"+e[a]+"',");return(t=t.replace(/'/g,'"')).substring(0,t.length-1)}return t}function getListOfSelectPatient(){var e="<span>List of selected patients :<span>";e+="<ul>";for(var t=0;t<TAB_SELECTED_VALUES.length&&t<4;t++)$.each(JSONObj,function(a,s){TAB_SELECTED_VALUES[t]==s.id&&(e+="<li>",e+=s.admin.nom.toUpperCase()+" "+s.admin.prenom,e+="</li>")});return e+="</ul>"}function selectValue(e){if($("#"+e).hasClass("table-success")){$("#"+e).removeClass("table-success");var t=TAB_SELECTED_VALUES.indexOf(e);t>-1&&TAB_SELECTED_VALUES.splice(t,1)}else TAB_SELECTED_VALUES.length<4?($("#"+e).addClass("table-success"),TAB_SELECTED_VALUES.push(e)):($("#modalPatientList").empty(),$("#modalPatientList").append(getListOfSelectPatient),$("#alertModal").modal("show"));generateFullChartFromJSON(TAB_SELECTED_VALUES,JSONObj)}function removePatient(){$("#tbodyData tr").removeClass("table-success"),TAB_SELECTED_VALUES=[],destroyChartCanvas()}function redrawChart(){destroyChartCanvas(),generateFullChartFromJSON(TAB_SELECTED_VALUES,JSONObj)}TAB_SELECTED_VALUES=[];var JSONObj="";
